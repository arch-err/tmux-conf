set -g default-terminal "xterm-256color"
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'


unbind r
bind r source-file $XDG_CONFIG_HOME/tmux/tmux.conf  \; display 'Reloaded Config!'

set -s escape-time 0
set -g history-limit 50000
set -g status-interval 5
set -g focus-events on
setw -g aggressive-resize on
set -g allow-passthrough on

set -g status-position top
set -g status-justify absolute-centre
set -g status-style 'fg=color30 bg=default'

# set -g status-right 'î«¾ #(cd #{pane_current_path}; git rev-parse --abbrev-ref HEAD)'
set -g status-left ''
set -g status-left-length 100
set -g status-left-style 'fg=color235 dim'

set -g status-right ''
set -g status-right-length 0

setw -g window-status-current-style 'fg=colour235 bg=default bold'
setw -g window-status-current-format '#I '
setw -g window-status-format '#I '
setw -g window-status-style 'fg=color235 dim'

set -g set-titles on
set -g set-titles-string '#S: #{pane_title}'

set-window-option -g mode-keys vi
set -g mouse on

set -g base-index 1 # start windows numbering at 1
# set -g renumber-windows on   # renumber all windows when any window is closed


bind-key x kill-pane
bind-key 1 if-shell 'tmux select-window -t :1' '' 'new-window -t :1'
bind-key 2 if-shell 'tmux select-window -t :2' '' 'new-window -t :2'
bind-key 3 if-shell 'tmux select-window -t :3' '' 'new-window -t :3'
bind-key 4 if-shell 'tmux select-window -t :4' '' 'new-window -t :4'
bind-key 5 if-shell 'tmux select-window -t :5' '' 'new-window -t :5'
bind-key 6 if-shell 'tmux select-window -t :6' '' 'new-window -t :6'
bind-key 7 if-shell 'tmux select-window -t :7' '' 'new-window -t :7'
bind-key 8 if-shell 'tmux select-window -t :8' '' 'new-window -t :8'
bind-key 9 if-shell 'tmux select-window -t :9' '' 'new-window -t :9'

bind-key '"' run-shell 'tmux split-window -v -c "#{pane_current_path}"'
bind-key '%' run-shell 'tmux split-window -h -c "#{pane_current_path}"'

set -g @continuum-boot 'on'
set -g @continuum-restore 'on'
set -g @continuum-save-interval '1'
set -g @resurrect-capture-pane-contents 'on'
set -g @resurrect-strategy-nvim 'session'
set -g @resurrect-processes ':all:'

bind-key z resize-pane -Z
bind-key C-z run-shell 'tmux display-popup -w 100% -h 100% -B -E "/home/archerr/.local/bin/zesh"'
bind-key C-g new-window -n 'lazygit' lazygit

set -g pane-active-border-style "bg=default,fg=colour238"
set -g pane-border-style "bg=default,fg=colour233"

# Scroll mode vim-binds
set-window-option -g mode-keys vi
bind-key -T copy-mode-vi v send -X begin-selection
bind-key -T copy-mode-vi V send -X select-line
set -s copy-command 'wl-copy'
bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel 'wl-copy'


run '~/.config/tmux/plugins/tpm/tpm
